


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             ARM, CODE, READONLY
    2 00000000                 ENTRY
    3 00000000 E0028010 
                       IO1PIN  EQU              0xE0028010
    4 00000000 E0028018 
                       IO1DIR  EQU              0xE0028018
    5 00000000 E0028000 
                       IO0PIN  EQU              0xE0028000
    6 00000000 E0028004 
                       IO0SET  EQU              0xE0028004
    7 00000000 E002800C 
                       IO0CLR  EQU              0xE002800C
    8 00000000 E0028008 
                       IO0DIR  EQU              0xE0028008
    9 00000000         
   10 00000000 E59F4054        LDR              R4, =IO0DIR
   11 00000004 E3E05000        LDR              R5, =0xFFFFFFFF ; chave de habi
                                                            litacao e LEDS
   12 00000008 E5845000        STR              R5, [R4]
   13 0000000C         
   14 0000000C E59F404C        LDR              R4, =IO1DIR
   15 00000010 E3E05801        LDR              R5, =0xFFFEFFFF ;chave como clk
                                                             para contar
   16 00000014 E5845000        STR              R5, [R4]
   17 00000018         
   18 00000018 E3A00000 
                       RESTART MOV              R0, #0      ;começa com zero
   19 0000001C E59F4040        LDR              R4, =IO0PIN
   20 00000020 E5840000        STR              R0, [R4]    ;salva zero na memo
                                                            ria
   21 00000024 E59F403C 
                       DESCIDA LDR              R4, =IO1PIN ;verifica se está n
                                                            o nivel alto
   22 00000028 E5945000        LDR              R5, [R4]
   23 0000002C E3150801        TST              R5, #0x00010000
   24 00000030 1AFFFFFB        BNE              DESCIDA     ;de 1 vai para 0(ra
                                                            mpa de descida)
   25 00000034 E350003B        CMP              R0, #59     ;compara se o regis
                                                            trador nao está com
                                                             valor 59
   26 00000038 0AFFFFF6        BEQ              RESTART
   27 0000003C E2800001        ADD              R0, #1      ;soma para contar
   28 00000040 E59F4020 
                       SUBIDA  LDR              R4, =IO1PIN ;verifica se está n
                                                            a rampa de descida
   29 00000044 E5945000        LDR              R5, [R4]
   30 00000048 E3150801        TST              R5, #0x00010000
   31 0000004C 0AFFFFFB        BEQ              SUBIDA      ; de 0 vai para 1(r
                                                            ampa de subida)
   32 00000050 E59F400C        LDR              R4, =IO0PIN ;armazena no pino d
                                                            a saida a contagem
   33 00000054 E5840000        STR              R0, [R4]
   34 00000058 EAFFFFF1        B                DESCIDA     ;volta a contar ver
                                                            ificando se está em
                                                             nivel alto 
   35 0000005C                 END
              E0028008 
              E0028018 
              E0028000 



ARM Macro Assembler    Page 2 


              E0028010 
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\o
bjects\contador_0a59_clock.d -o.\objects\contador_0a59_clock.o -IC:\Keil_v5\ARM
\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\Inc\Philips --predefi
ne="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 518" --list=.\listings\c
ontador_0a59_clock.lst contador_0a59_clock.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

ARM 00000000

Symbol: ARM
   Definitions
      At line 1 in file contador_0a59_clock.s
   Uses
      None
Comment: ARM unused
DESCIDA 00000024

Symbol: DESCIDA
   Definitions
      At line 21 in file contador_0a59_clock.s
   Uses
      At line 24 in file contador_0a59_clock.s
      At line 34 in file contador_0a59_clock.s

RESTART 00000018

Symbol: RESTART
   Definitions
      At line 18 in file contador_0a59_clock.s
   Uses
      At line 26 in file contador_0a59_clock.s
Comment: RESTART used once
SUBIDA 00000040

Symbol: SUBIDA
   Definitions
      At line 28 in file contador_0a59_clock.s
   Uses
      At line 31 in file contador_0a59_clock.s
Comment: SUBIDA used once
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

IO0CLR E002800C

Symbol: IO0CLR
   Definitions
      At line 7 in file contador_0a59_clock.s
   Uses
      None
Comment: IO0CLR unused
IO0DIR E0028008

Symbol: IO0DIR
   Definitions
      At line 8 in file contador_0a59_clock.s
   Uses
      At line 10 in file contador_0a59_clock.s
Comment: IO0DIR used once
IO0PIN E0028000

Symbol: IO0PIN
   Definitions
      At line 5 in file contador_0a59_clock.s
   Uses
      At line 19 in file contador_0a59_clock.s
      At line 32 in file contador_0a59_clock.s

IO0SET E0028004

Symbol: IO0SET
   Definitions
      At line 6 in file contador_0a59_clock.s
   Uses
      None
Comment: IO0SET unused
IO1DIR E0028018

Symbol: IO1DIR
   Definitions
      At line 4 in file contador_0a59_clock.s
   Uses
      At line 14 in file contador_0a59_clock.s
Comment: IO1DIR used once
IO1PIN E0028010

Symbol: IO1PIN
   Definitions
      At line 3 in file contador_0a59_clock.s
   Uses
      At line 21 in file contador_0a59_clock.s
      At line 28 in file contador_0a59_clock.s

6 symbols
344 symbols in table
